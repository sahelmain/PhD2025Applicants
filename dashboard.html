<!DOCTYPE html>
<html>
<head>
    <title>PhD Applications Analysis Dashboard</title>
    <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', sans-serif;
        }
        
        body {
            background-color: #121212;
            color: #e0e0e0;
            margin: 0;
            padding: 0;
        }
        
        /* Top navigation bar */
        .top-nav {
            background-color: #1e1e1e;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.5);
            flex-wrap: wrap;
        }
        
        .nav-logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: #4E79A7;
            padding: 15px 0;
            white-space: nowrap;
        }
        
        .nav-links {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            padding: 15px 0;
        }
        
        .nav-link {
            color: #aaa;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            padding: 5px 8px;
            white-space: nowrap;
        }
        
        .nav-link:hover {
            color: #fff;
            background-color: rgba(255,255,255,0.1);
            border-radius: 4px;
        }
        
        .menu-toggle {
            display: none;
            color: #aaa;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 15px 0;
        }
        
        /* Main content */
        .main-content {
            margin-top: 60px;
            padding: 40px 20px;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
                width: 100%;
                flex-direction: column;
                padding: 0;
                max-height: 0;
                overflow: hidden;
                transition: max-height 0.5s ease-out;
            }
            
            .nav-links.active {
                display: flex;
                max-height: 500px;
                padding: 10px 0;
            }
            
            .nav-link {
                padding: 10px 0;
                width: 100%;
                text-align: center;
            }
            
            .menu-toggle {
                display: block;
            }
            
            .top-nav {
                flex-wrap: wrap;
                padding: 0 20px;
            }
            
            .nav-logo {
                flex: 1;
            }
        }
        
        /* Other existing styles */
        .title-container {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .dashboard-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: #ffffff;
            text-shadow: 0px 2px 4px rgba(0,0,0,0.3);
        }
        
        .dashboard-subtitle {
            font-size: 1.2rem;
            color: #bbdefb;
            margin-bottom: 30px;
        }
        
        .stats-highlights {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .stat-item {
            background-color: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            flex: 1;
            min-width: 120px;
            margin: 0 5px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .stat-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: #4fc3f7;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 1rem;
            color: #b3e5fc;
        }
        
        .section {
            margin-bottom: 60px;
            background-color: #1e1e1e;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
        }
        
        .section:hover {
            transform: translateY(-5px);
        }
        
        h2 {
            color: #4E79A7;
            border-bottom: 2px solid #333;
            padding-bottom: 10px;
            margin-bottom: 25px;
            font-size: 1.8rem;
            font-weight: 500;
        }
        
        .description {
            margin-bottom: 25px;
            color: #aaa;
            font-size: 1rem;
            line-height: 1.6;
        }
        
        .plot-container {
            margin: 30px 0;
            padding: 20px;
            background-color: #2d2d2d;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
            transition: transform 0.2s;
        }
        
        .plot-container:hover {
            transform: scale(1.01);
        }
        
        h3 {
            color: #F28E2B;
            text-align: center;
            margin-bottom: 20px;
            font-weight: 500;
            font-size: 1.4rem;
        }
        
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background-color: #4E79A7;
            color: white;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            text-align: center;
            line-height: 50px;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            opacity: 0;
            transition: opacity 0.3s, transform 0.3s;
            z-index: 1000;
        }
        
        .back-to-top.visible {
            opacity: 1;
        }
        
        .back-to-top:hover {
            transform: scale(1.1);
        }
        
        footer {
            background-color: #1e1e1e;
            padding: 20px;
            text-align: center;
            color: #aaa;
            font-size: 0.9rem;
            margin-top: 60px;
            border-top: 1px solid #333;
        }
        
        /* Theme toggle */
        .theme-toggle {
            position: fixed;
            top: 80px;
            right: 20px;
            background-color: #333;
            color: #fff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            text-align: center;
            line-height: 40px;
            font-size: 16px;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            z-index: 1000;
            transition: transform 0.3s;
        }
        
        .theme-toggle:hover {
            transform: scale(1.1);
        }
        
        /* Light theme */
        body.light-theme {
            background-color: #f5f5f5;
            color: #333;
        }
        
        body.light-theme .top-nav {
            background-color: #fff;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        body.light-theme .nav-link {
            color: #666;
        }
        
        body.light-theme .nav-link:hover {
            color: #333;
            background-color: rgba(0,0,0,0.05);
        }
        
        body.light-theme .section {
            background-color: #fff;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        body.light-theme .plot-container {
            background-color: #f0f0f0;
        }
        
        body.light-theme h2 {
            border-bottom-color: #ddd;
        }
        
        body.light-theme .description {
            color: #666;
        }
        
        body.light-theme .stat-item {
            background-color: rgba(0,0,0,0.05);
        }
        
        body.light-theme .title-container {
            background: linear-gradient(135deg, #4E79A7 0%, #6E99C7 100%);
        }
    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-logo">PhD Data Explorer</div>
        <div class="menu-toggle">
            <i class="fas fa-bars"></i>
        </div>
        <div class="nav-links">
            <a href="#advanced" class="nav-link">Advanced</a>
            <a href="#demographics" class="nav-link">Demographics</a>
            <a href="#academics" class="nav-link">Academics</a>
            <a href="#tests" class="nav-link">Test Scores</a>
            <a href="#relationships" class="nav-link">Relationships</a>
            <a href="#countries" class="nav-link">Countries</a>
        </div>
    </nav>
    
    <div class="theme-toggle" title="Toggle theme">
        <i class="fas fa-moon"></i>
    </div>
    
    <div class="main-content">
        <div class="title-container">
            <h1 class="dashboard-title">PhD Applications Analysis Dashboard</h1>
            <p class="dashboard-subtitle">Interactive visualization of PhD application data for the 2025 application cycle</p>
            
            <div class="stats-highlights">
                <div class="stat-item">
                    <div class="stat-value">123</div>
                    <div class="stat-label">Total Applicants</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">15</div>
                    <div class="stat-label">Countries</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">3.42</div>
                    <div class="stat-label">Average GPA</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">7.1</div>
                    <div class="stat-label">Average IELTS</div>
                </div>
            </div>
        </div>
        
        <div id="advanced" class="section">
            <h2>Advanced Analysis</h2>
            <div class="description">
                <p>These advanced interactive visualizations provide deeper insights into the PhD applicant data through multidimensional and machine learning analysis.</p>
            </div>
            
            <div class="plot-container">
                <h3>Machine Learning Clusters</h3>
                <div id="cluster-plot"></div>
                <p class="description">Applicant clusters based on academic metrics, showing distinct groups of candidates.</p>
            </div>
            
            <div class="plot-container">
                <h3>3D Score Visualization</h3>
                <div id="3d-plot"></div>
                <p class="description">3D visualization showing relationships between GPA, GRE Verbal, and GRE Quantitative scores.</p>
            </div>
            
            <div class="plot-container">
                <h3>Parallel Coordinates Analysis</h3>
                <div id="parallel-plot"></div>
                <p class="description">Multi-dimensional analysis of applicant metrics, showing patterns across different measures.</p>
            </div>
        </div>
        
        <div id="demographics" class="section">
            <h2>1. Applicant Demographics</h2>
            <div class="description">
                <p>These visualizations show the distribution of applicants by country, student type, and applicant type.</p>
            </div>
            
            <div class="plot-container">
                <h3>Citizenship Distribution</h3>
                <div id="citizenship-plot"></div>
                <p class="description">Bangladesh, China, and Iran are the most represented countries in the applicant pool.</p>
            </div>
            
            <div class="plot-container">
                <h3>Student Type Distribution</h3>
                <div id="student-type-plot"></div>
                <p class="description">Most applicants are new first-time students, with a smaller number of continuing students.</p>
            </div>
        </div>
        
        <div id="academics" class="section">
            <h2>2. Academic Qualifications</h2>
            <div class="description">
                <p>Explore the academic qualifications of the applicants, including GPAs, degree types, and subject areas.</p>
            </div>
            
            <div class="plot-container">
                <h3>GPA Distribution</h3>
                <div id="gpa-plot"></div>
                <p class="description">The average GPA among applicants is 3.42, with most applicants having a GPA between 3.0 and 4.0.</p>
            </div>
        </div>
        
        <div id="tests" class="section">
            <h2>3. Test Scores</h2>
            <div class="description">
                <p>These visualizations show the distribution of English proficiency test types and scores.</p>
            </div>
            
            <div class="plot-container">
                <h3>English Proficiency Test Types</h3>
                <div id="test-type-plot"></div>
                <p class="description">IELTS is the most common English proficiency test among applicants, followed by TOEFL.</p>
            </div>
        </div>
        
        <div id="relationships" class="section">
            <h2>4. Relationship Analysis</h2>
            <div class="description">
                <p>These scatter plots explore relationships between different metrics in the application data.</p>
            </div>
            
            <div class="plot-container">
                <h3>GPA vs. Test Scores</h3>
                <div id="gpa-vs-score-plot"></div>
                <p class="description">This scatter plot shows the relationship between applicants' GPA and their English proficiency test scores.</p>
            </div>
        </div>
        
        <div id="countries" class="section">
            <h2>5. Country Comparisons</h2>
            <div class="description">
                <p>These visualizations compare academic metrics across the top countries represented in the applicant pool.</p>
            </div>
            
            <div class="plot-container">
                <h3>GPA Comparison by Country</h3>
                <div id="country-gpa-plot"></div>
                <p class="description">This box plot compares the distribution of GPAs among applicants from the top countries.</p>
            </div>
        </div>
        
        <div id="conclusion" class="section">
            <h2>Conclusion</h2>
            <div class="description">
                <p>This dashboard provides insights into the demographic, academic, and test performance characteristics of PhD applicants. The analysis reveals patterns in the applicant pool that could inform recruitment and admissions strategies.</p>
                <p>For further analysis, we could explore:</p>
                <ul style="margin-left: 20px; line-height: 1.6;">
                    <li>Patterns in application timing and decision outcomes</li>
                    <li>More detailed analysis of subject area backgrounds</li>
                    <li>Multivariate analysis combining various factors</li>
                    <li>Integration of admission decision data for predictive modeling</li>
                </ul>
            </div>
        </div>
    </div>
    
    <a href="#" class="back-to-top">â†‘</a>
    
    <footer>
        PhD Applications Analysis Dashboard | Created with Python & Plotly
    </footer>
    
    <script>
        // Back to top button functionality
        $(window).scroll(function() {
            if ($(this).scrollTop() > 300) {
                $('.back-to-top').addClass('visible');
            } else {
                $('.back-to-top').removeClass('visible');
            }
        });
        
        $('.back-to-top').click(function(e) {
            e.preventDefault();
            $('html, body').animate({scrollTop: 0}, 800);
        });
        
        // Smooth scrolling for navigation links
        $('.nav-link').click(function(e) {
            e.preventDefault();
            var target = $(this).attr('href');
            $('html, body').animate({
                scrollTop: $(target).offset().top - 70
            }, 800);
        });
        
        // Create sample visualizations
        document.addEventListener('DOMContentLoaded', function() {
            // Sample data
            var countries = ['Bangladesh', 'China', 'Iran', 'India', 'Nepal', 'Pakistan', 'Nigeria', 'Vietnam', 'Other'];
            var countryCounts = [30, 20, 10, 8, 7, 6, 5, 2, 35];
            
            var studentTypes = ['New First Time', 'Continuing', 'Internal Level Up', 'External Change', 'Former Tech Readmission'];
            var studentTypeCounts = [80, 20, 10, 8, 5];
            
            var gpaRanges = ['2.0-2.5', '2.5-3.0', '3.0-3.5', '3.5-4.0'];
            var gpaCounts = [10, 25, 45, 43];
            
            var testTypes = ['IELTS', 'TOEFL', 'Duolingo', 'Exemption', 'PTE Academic'];
            var testTypeCounts = [50, 30, 15, 10, 5];
            
            // Country distribution
            var citizenshipData = [{
                x: countries,
                y: countryCounts,
                type: 'bar',
                marker: {
                    color: '#4E79A7'
                }
            }];
            
            var citizenshipLayout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: {
                    color: '#e0e0e0'
                },
                xaxis: {
                    title: 'Country'
                },
                yaxis: {
                    title: 'Number of Applicants'
                },
                margin: {
                    l: 50,
                    r: 50,
                    b: 100,
                    t: 30,
                    pad: 4
                }
            };
            
            Plotly.newPlot('citizenship-plot', citizenshipData, citizenshipLayout);
            
            // Student type distribution
            var studentTypeData = [{
                labels: studentTypes,
                values: studentTypeCounts,
                type: 'pie',
                marker: {
                    colors: ['#4E79A7', '#F28E2B', '#59A14F', '#E15759', '#76B7B2']
                },
                textinfo: "label+percent",
                insidetextorientation: "radial"
            }];
            
            var studentTypeLayout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: {
                    color: '#e0e0e0'
                },
                margin: {
                    l: 20,
                    r: 20,
                    b: 20,
                    t: 30,
                    pad: 4
                }
            };
            
            Plotly.newPlot('student-type-plot', studentTypeData, studentTypeLayout);
            
            // GPA distribution
            var gpaData = [{
                x: gpaRanges,
                y: gpaCounts,
                type: 'bar',
                marker: {
                    color: '#59A14F'
                }
            }];
            
            var gpaLayout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: {
                    color: '#e0e0e0'
                },
                xaxis: {
                    title: 'GPA Range'
                },
                yaxis: {
                    title: 'Number of Applicants'
                },
                margin: {
                    l: 50,
                    r: 50,
                    b: 100,
                    t: 30,
                    pad: 4
                }
            };
            
            Plotly.newPlot('gpa-plot', gpaData, gpaLayout);
            
            // Test type distribution
            var testTypeData = [{
                labels: testTypes,
                values: testTypeCounts,
                type: 'pie',
                marker: {
                    colors: ['#4E79A7', '#F28E2B', '#59A14F', '#E15759', '#76B7B2']
                },
                textinfo: "label+percent",
                insidetextorientation: "radial"
            }];
            
            var testTypeLayout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: {
                    color: '#e0e0e0'
                },
                margin: {
                    l: 20,
                    r: 20,
                    b: 20,
                    t: 30,
                    pad: 4
                }
            };
            
            Plotly.newPlot('test-type-plot', testTypeData, testTypeLayout);
            
            // GPA vs Test Scores scatter plot
            var gpaValues = [3.8, 3.2, 3.5, 3.9, 2.8, 3.1, 3.6, 3.3, 2.9, 3.7, 3.4, 3.0, 3.8, 3.1, 3.5, 3.2, 3.6, 3.9, 3.4, 3.0];
            var testScores = [7.5, 6.5, 7.0, 8.0, 6.0, 6.5, 7.5, 7.0, 6.5, 7.5, 7.0, 6.5, 8.0, 6.5, 7.0, 6.5, 7.5, 8.0, 7.0, 6.5];
            var countries = ['Bangladesh', 'China', 'Iran', 'India', 'China', 'Bangladesh', 'India', 'Iran', 'China', 'Bangladesh', 
                           'Nepal', 'China', 'Bangladesh', 'Iran', 'India', 'Bangladesh', 'China', 'Bangladesh', 'Nepal', 'Iran'];
            
            var gpaVsScoreData = [{
                x: gpaValues,
                y: testScores,
                mode: 'markers',
                type: 'scatter',
                marker: {
                    size: 12,
                    color: gpaValues,
                    colorscale: 'Viridis',
                    showscale: true,
                    colorbar: {
                        title: 'GPA'
                    }
                },
                text: countries,
                hovertemplate: 'GPA: %{x}<br>IELTS: %{y}<br>Country: %{text}<extra></extra>'
            }];
            
            var gpaVsScoreLayout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: {
                    color: '#e0e0e0'
                },
                xaxis: {
                    title: 'GPA',
                    range: [2.5, 4.0]
                },
                yaxis: {
                    title: 'IELTS Score',
                    range: [5.5, 8.5]
                },
                margin: {
                    l: 50,
                    r: 50,
                    b: 50,
                    t: 30,
                    pad: 4
                }
            };
            
            Plotly.newPlot('gpa-vs-score-plot', gpaVsScoreData, gpaVsScoreLayout);
            
            // Country GPA comparison box plot
            var bangladeshGPAs = [3.29, 3.38, 3.69, 3.81, 3.42, 3.18, 3.67, 3.45, 3.92, 3.60, 3.97, 3.02, 3.68, 3.87, 3.64];
            var chinaGPAs = [2.52, 2.98, 3.47, 3.29, 3.43, 3.20, 2.89, 2.80, 2.74, 3.20, 3.25];
            var iranGPAs = [2.95, 2.57, 2.95, 2.97, 3.06, 3.11, 3.43];
            var indiaGPAs = [3.19, 3.61, 3.35, 3.46, 3.25];
            var nepalGPAs = [3.40, 3.21, 3.13, 3.36, 3.19, 3.25];
            
            var countryGPAData = [
                {
                    y: bangladeshGPAs,
                    type: 'box',
                    name: 'Bangladesh',
                    boxpoints: 'all',
                    jitter: 0.3,
                    pointpos: -1.8,
                    marker: {
                        color: '#4E79A7'
                    }
                },
                {
                    y: chinaGPAs,
                    type: 'box',
                    name: 'China',
                    boxpoints: 'all',
                    jitter: 0.3,
                    pointpos: -1.8,
                    marker: {
                        color: '#F28E2B'
                    }
                },
                {
                    y: iranGPAs,
                    type: 'box',
                    name: 'Iran',
                    boxpoints: 'all',
                    jitter: 0.3,
                    pointpos: -1.8,
                    marker: {
                        color: '#59A14F'
                    }
                },
                {
                    y: indiaGPAs,
                    type: 'box',
                    name: 'India',
                    boxpoints: 'all',
                    jitter: 0.3,
                    pointpos: -1.8,
                    marker: {
                        color: '#E15759'
                    }
                },
                {
                    y: nepalGPAs,
                    type: 'box',
                    name: 'Nepal',
                    boxpoints: 'all',
                    jitter: 0.3,
                    pointpos: -1.8,
                    marker: {
                        color: '#76B7B2'
                    }
                }
            ];
            
            var countryGPALayout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: {
                    color: '#e0e0e0'
                },
                yaxis: {
                    title: 'GPA',
                    range: [2.0, 4.2]
                },
                boxmode: 'group',
                margin: {
                    l: 50,
                    r: 30,
                    b: 60,
                    t: 30,
                    pad: 4
                }
            };
            
            Plotly.newPlot('country-gpa-plot', countryGPAData, countryGPALayout);
            
            // 3D scatter plot
            var gpa3d = [3.45, 3.69, 3.21, 3.05, 3.43, 3.19, 3.70, 2.58, 3.33, 3.87, 3.35, 3.53, 3.44, 3.21, 3.19];
            var verbal3d = [140, 141, 170, 156, 152, 146, 160, 156, 157, 148, 161, 154, 160, 151, 142];
            var quant3d = [160, 159, 163, 164, 163, 170, 167, 166, 158, 161, 168, 159, 170, 160, 161];
            var countries3d = ['Bangladesh', 'Bangladesh', 'Nepal', 'Nigeria', 'India', 'China', 'Iran', 'Iran', 'Bangladesh', 'Bangladesh', 'Iran', 'Bangladesh', 'Iran', 'Bangladesh', 'Bangladesh'];
            
            var data3d = [{
                x: gpa3d,
                y: verbal3d,
                z: quant3d,
                mode: 'markers',
                type: 'scatter3d',
                marker: {
                    size: 8,
                    color: gpa3d,
                    colorscale: 'Viridis',
                    opacity: 0.8,
                    colorbar: {
                        title: 'GPA'
                    }
                },
                text: countries3d,
                hovertemplate: 'GPA: %{x}<br>Verbal: %{y}<br>Quant: %{z}<br>Country: %{text}<extra></extra>'
            }];
            
            var layout3d = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                scene: {
                    xaxis: {
                        title: 'GPA',
                        backgroundcolor: 'rgba(0,0,0,0)',
                        gridcolor: 'grey',
                        showbackground: true
                    },
                    yaxis: {
                        title: 'GRE Verbal',
                        backgroundcolor: 'rgba(0,0,0,0)',
                        gridcolor: 'grey',
                        showbackground: true
                    },
                    zaxis: {
                        title: 'GRE Quantitative',
                        backgroundcolor: 'rgba(0,0,0,0)',
                        gridcolor: 'grey',
                        showbackground: true
                    }
                },
                font: {
                    color: '#e0e0e0'
                },
                margin: {
                    l: 0,
                    r: 0,
                    b: 0,
                    t: 0,
                    pad: 4
                },
                autosize: true
            };
            
            Plotly.newPlot('3d-plot', data3d, layout3d);
            
            // Correlation Heatmap
            var correlationData = [{
                z: [
                    [1.0, 0.35, 0.42, 0.28, 0.18],
                    [0.35, 1.0, 0.65, 0.31, 0.12],
                    [0.42, 0.65, 1.0, 0.52, 0.22],
                    [0.28, 0.31, 0.52, 1.0, 0.45],
                    [0.18, 0.12, 0.22, 0.45, 1.0]
                ],
                x: ['GPA', 'GRE Verbal', 'GRE Quant', 'IELTS', 'Experience'],
                y: ['GPA', 'GRE Verbal', 'GRE Quant', 'IELTS', 'Experience'],
                type: 'heatmap',
                colorscale: 'Viridis',
                showscale: true,
                colorbar: {
                    title: 'Correlation'
                },
                hovertemplate: 'Correlation between %{x} and %{y}: %{z:.2f}<extra></extra>'
            }];
            
            var correlationLayout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: {
                    color: '#e0e0e0'
                },
                title: {
                    text: 'Correlation Matrix',
                    font: {
                        size: 16,
                        color: '#e0e0e0'
                    }
                },
                margin: {
                    l: 100,
                    r: 20,
                    b: 100,
                    t: 50,
                    pad: 4
                }
            };
            
            Plotly.newPlot('correlation-plot', correlationData, correlationLayout);
            
            // Radar Chart for Country Performance
            var radarData = [
                {
                    type: 'scatterpolar',
                    r: [3.55, 7.2, 155, 162, 4.3],
                    theta: ['GPA', 'IELTS', 'GRE Verbal', 'GRE Quant', 'Experience (yrs)'],
                    fill: 'toself',
                    name: 'Bangladesh',
                    line: {
                        color: '#4E79A7'
                    }
                },
                {
                    type: 'scatterpolar',
                    r: [3.21, 6.5, 146, 170, 3.2],
                    theta: ['GPA', 'IELTS', 'GRE Verbal', 'GRE Quant', 'Experience (yrs)'],
                    fill: 'toself',
                    name: 'China',
                    line: {
                        color: '#F28E2B'
                    }
                },
                {
                    type: 'scatterpolar',
                    r: [3.08, 7.0, 158, 167, 2.8],
                    theta: ['GPA', 'IELTS', 'GRE Verbal', 'GRE Quant', 'Experience (yrs)'],
                    fill: 'toself',
                    name: 'Iran',
                    line: {
                        color: '#59A14F'
                    }
                },
                {
                    type: 'scatterpolar',
                    r: [3.42, 7.5, 152, 163, 5.1],
                    theta: ['GPA', 'IELTS', 'GRE Verbal', 'GRE Quant', 'Experience (yrs)'],
                    fill: 'toself',
                    name: 'India',
                    line: {
                        color: '#E15759'
                    }
                }
            ];
            
            var radarLayout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: {
                    color: '#e0e0e0'
                },
                polar: {
                    radialaxis: {
                        visible: true,
                        range: [0, 180]
                    }
                },
                showlegend: true,
                legend: {
                    font: {
                        color: '#e0e0e0'
                    }
                },
                margin: {
                    l: 80,
                    r: 80,
                    b: 80,
                    t: 50,
                    pad: 4
                }
            };
            
            Plotly.newPlot('radar-plot', radarData, radarLayout);
            
            // Sunburst Chart for Subject Areas by Country
            var sunburstData = [{
                type: 'sunburst',
                labels: [
                    'All Countries', 
                    'Bangladesh', 'China', 'Iran', 'India', 'Others',
                    'CS & Eng', 'EE', 'CS', 'CE', 'AI & ML',
                    'CS & Eng', 'Data Science', 'EE', 'Physics', 'Math',
                    'CS & Eng', 'EE', 'CS Networks', 'AI', 'CE',
                    'CS & Eng', 'ECE', 'AI & ML', 'Physics', 'Software Eng',
                    'CS & Eng', 'ECE', 'CE', 'Software Eng', 'Other'
                ],
                parents: [
                    '', 
                    'All Countries', 'All Countries', 'All Countries', 'All Countries', 'All Countries',
                    'Bangladesh', 'Bangladesh', 'Bangladesh', 'Bangladesh', 'Bangladesh',
                    'China', 'China', 'China', 'China', 'China',
                    'Iran', 'Iran', 'Iran', 'Iran', 'Iran',
                    'India', 'India', 'India', 'India', 'India',
                    'Others', 'Others', 'Others', 'Others', 'Others'
                ],
                values: [
                    100,
                    30, 20, 10, 8, 32,
                    15, 6, 5, 3, 1,
                    8, 5, 4, 2, 1,
                    4, 3, 1, 1, 1,
                    3, 2, 1, 1, 1,
                    12, 8, 6, 4, 2
                ],
                branchvalues: 'total',
                hovertemplate: '%{label}<br>Count: %{value}<br>Percentage: %{percentEntry:.1%}<extra></extra>',
                textinfo: 'label+percent entry',
                maxdepth: 2,
                insidetextorientation: 'radial'
            }];
            
            var sunburstLayout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                margin: {
                    l: 0,
                    r: 0,
                    b: 0,
                    t: 0,
                    pad: 4
                },
                font: {
                    color: '#e0e0e0'
                }
            };
            
            Plotly.newPlot('sunburst-plot', sunburstData, sunburstLayout);
            
            // Mobile menu toggle
            $('.menu-toggle').click(function() {
                $('.nav-links').toggleClass('active');
            });
            
            // Theme toggle functionality
            $('.theme-toggle').click(function() {
                $('body').toggleClass('light-theme');
                
                if ($('body').hasClass('light-theme')) {
                    $('.theme-toggle i').removeClass('fa-moon').addClass('fa-sun');
                    
                    // Update Plotly colors for light theme
                    updatePlotlyTheme('light');
                } else {
                    $('.theme-toggle i').removeClass('fa-sun').addClass('fa-moon');
                    
                    // Update Plotly colors for dark theme
                    updatePlotlyTheme('dark');
                }
            });
            
            // Function to update Plotly theme
            function updatePlotlyTheme(theme) {
                const plotIds = [
                    'citizenship-plot', 'student-type-plot', 'gpa-plot', 'test-type-plot',
                    'gpa-vs-score-plot', 'country-gpa-plot', '3d-plot', 'correlation-plot',
                    'radar-plot', 'sunburst-plot'
                ];
                
                const bgColor = theme === 'light' ? 'rgba(255,255,255,0)' : 'rgba(0,0,0,0)';
                const textColor = theme === 'light' ? '#333' : '#e0e0e0';
                const gridColor = theme === 'light' ? '#ddd' : 'grey';
                
                plotIds.forEach(id => {
                    if (document.getElementById(id) && document.getElementById(id).layout) {
                        const update = {
                            paper_bgcolor: bgColor,
                            plot_bgcolor: bgColor,
                            font: { color: textColor }
                        };
                        
                        // Special case for 3D plot
                        if (id === '3d-plot') {
                            update.scene = {
                                xaxis: { gridcolor: gridColor, titlefont: { color: textColor } },
                                yaxis: { gridcolor: gridColor, titlefont: { color: textColor } },
                                zaxis: { gridcolor: gridColor, titlefont: { color: textColor } }
                            };
                        } else {
                            // Regular 2D plots
                            update.xaxis = { gridcolor: gridColor, zerolinecolor: gridColor };
                            update.yaxis = { gridcolor: gridColor, zerolinecolor: gridColor };
                        }
                        
                        Plotly.relayout(id, update);
                    }
                });
            }
        });
    </script>
</body>
</html> 